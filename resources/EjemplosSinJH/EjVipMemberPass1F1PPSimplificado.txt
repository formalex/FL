#Background

roles cliente {socioTitular, relacionadoASocio disjoint cover}, noCliente disjoint cover

impersonal action pasaUnAnio
impersonal action nuevoSocioRecomendadoPremium
impersonal action nuevoSocioRecomendadoSelect
actions activaPase,primerUsoTarjeta only performable by socioTitular

local interval tarjetaVigente defined by actions activaPase - pasaUnAnio

action ingresarASala
action ingresarASalaDallas
action abonarTarifaCompleta only performable by relacionadoASocio


local counter pasesRestantes init value 5
min value 0
decreases with action ingresarASala by 1,
decreases with action ingresarASalaDallas by 1,
reaching min impedes actions
resets with action pasaUnAnio

local counter puntosMembresia init value 0
min value 0 max value 20
increases with action nuevoSocioRecomendadoPremium by 2,
increases with action nuevoSocioRecomendadoSelect by 5,
increases with action ingresarASala by 1,
resets with action pasaUnAnio

#Clauses
FORALL(i:cliente; PP(i.ingresarASala))
FORALL(i:socioTitular; F(i.pasesRestantes = 0 & i.ingresarASala))